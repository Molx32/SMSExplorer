<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="../static/jquery-1.11.1.min.js" ></script>
        <script type="text/javascript" src="../static/underscore-min.js" ></script>
        <script type="text/javascript" src="../static/backbone-min.js" ></script>
        <script type="text/javascript" src="../static/pretty-json-min.js" defer></script>
        <script type="text/javascript" src="../static/nav.js" defer></script>
        <link rel="stylesheet" href="../static/default.css">
        <link rel="stylesheet" href="../static/pretty-json.css">
    </head>
    <body>
        <div class="navbar">
            <div>
                <span class="logo">
                    <img src="../static/logo.png" width="100%">
                    <span>SMS Explorer</span>
                </span>
                <span class="cat">Dashboard</span>
                <a id="menu_home" href="/home" class="subcat">Home</a>
                <!-- Search -->
                <span class="cat">Search</span>
                <a id="menu_search" href="/search" class="subcat">SMSs</a>
                <a id="menu_targets" href="/search_targets" class="subcat">Targets</a>
                <a id="menu_investigation" href="/investigation" class="subcat">Investigation</a>
                <!-- Statistics -->
                <span class="cat">Statistics</span>
                <a id="menu_statistics_raw" href="/statistics_raw" class="subcat">Raw</a>
                <a id="menu_statistics_san" href="/statistics_san" class="subcat">Sanitized</a>
                <!-- Settings -->
                <span class="cat">Settings</span>
                <a id="menu_settings" href="/settings" class="subcat">Settings</a>
                <!-- About -->
                <a id="menu_about" href="/about" class="subcat">About</a>
            </div>
            <div>
                <div id="notification1" class="notification">
                    <span class="notification-close" onclick="this.parentElement.style.display='none';">&times;</span> 
                    <strong>Danger!</strong> Indicates a dangerous or potentially negative action.
                </div>
                <div id="notification2" class="notification">
                    <span class="notification-close" onclick="this.parentElement.style.display='none';">&times;</span> 
                    <strong>Danger!</strong> Indicates a dangerous or potentially negative action.
                </div>
            </div>
        </div>
        
        <div class="content">
            <div class="content-inner">
                <div class="container">
                    <div class="row">
                        <div id="home_tiles" class="tiles">
                            <div id="tile_messages_received" class="tile">
                                <div class="icon">
                                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9h5m3 0h2M7 12h2m3 0h5M5 5h14a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1h-6.616a1 1 0 0 0-.67.257l-2.88 2.592A.5.5 0 0 1 8 18.477V17a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Z"/>
                                    </svg>
                                </div>
                                <div class="count_content">
                                    <h3>{{count_messages}}</h3>
                                    <p>Messages received</p>
                                </div>
                            </div>
                            <div id="tile_messages_received" class="tile">
                                <div class="icon">
                                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"/>
                                    </svg>
                                </div>
                                <div class="count_content">
                                    <h3>{{count_urls}}</h3>
                                    <p>Messages with URL</p>
                                </div>
                            </div>
                            <div id="tile_messages_received" class="tile">
                                <div class="icon">
                                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 6c0 1.657-3.134 3-7 3S5 7.657 5 6m14 0c0-1.657-3.134-3-7-3S5 4.343 5 6m14 0v6M5 6v6m0 0c0 1.657 3.134 3 7 3s7-1.343 7-3M5 12v6c0 1.657 3.134 3 7 3s7-1.343 7-3v-6"/>
                                    </svg>
                                </div>
                                <div class="count_content">
                                    <h3>{{count_data}}</h3>
                                    <p>Messages with data</p>
                                </div>
                            </div>
                            <div id="tile_messages_received" class="tile">
                                <div class="icon">
                                    <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                       <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"/>
                                    </svg>
                                </div>
                                <div class="count_content">
                                    <h3>{{count_unknown}}</h3>
                                    <p>Garbage</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div id="home_events" class="events">
                            <!-- Last data collected -->
                            <div class="event">
                                <div class="event-header event-header-border">
                                    <div class="main_title">
                                        <h3>Last data collected</h3>
                                    </div>
                                </div>
                                {% for activity in activities_last_data %}
                                    {% set id       = activity[0] %}
                                    {% set date     = activity[1] %}
                                    {% set sender   = activity[2] %}
                                    {% set receiver = activity[3] %}
                                    {% set msg      = activity[4] %}
                                    {% set country  = activity[5] %}
                                    <div class="event-content">
                                        <div>
                                            <ul>
                                                <li>
                                                    <div class="event-row-1">
                                                        <div>
                                                            <img src="../static/icon_sms.png" style="max-width: 50px;">
                                                            <div>
                                                                <p>{{activity[2]}}</p>
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5m14 0-4 4m4-4-4-4"/>
                                                                    </svg>
                                                                <p>{{activity[3]}}</p>
                                                            </div>
                                                        </div>
                                                        <p>{{activity[1]}}</p>
                                                    </div>
                                                    <div class="event-row-2">
                                                        <div><p>{{activity[4]  | decode}}</p></div>
                                                        <div>
                                                            <button {{'id=file_classification_button_' ~ activity[0]}} onclick="displayData(this.id)">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                    <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/>
                                                                </svg>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>

                            <!-- Top data domain -->
                            <div class="event">
                                <div class="event-header event-header-border">
                                    <div class="main_title">
                                        <h3>Top data domain</h3>
                                    </div>
                                </div>
                                <div class="event-content">
                                    <div>
                                        <ul>
                                            <li>
                                                <div class="event-row-1">
                                                    <div>
                                                        <img src="../static/icon_sms.png" style="max-width: 50px;">
                                                        <p>+33659874 --> +33659874</p>
                                                    </div>
                                                    <p>Tues, 5th 2024</p>
                                                </div>
                                                <div class="event-row-2">
                                                    <div><p>message sfzedrgzdfzdgzdfzeg</p></div>
                                                    <div>
                                                        <button>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/></svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="event-content">
                                    <div>
                                        <ul>
                                            <li>
                                                <div class="event-row-1">
                                                    <div>
                                                        <img src="../static/icon_sms.png" style="max-width: 50px;">
                                                        <p>+33659874 --> +33659874</p>
                                                    </div>
                                                    <p>Tues, 5th 2024</p>
                                                </div>
                                                <div class="event-row-2">
                                                    <div><p>message sfzedrgzdfzdgzdfzeg</p></div>
                                                    <div>
                                                        <button>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/></svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="event-content">
                                    <div>
                                        <ul>
                                            <li>
                                                <div class="event-row-1">
                                                    <div>
                                                        <img src="../static/icon_sms.png" style="max-width: 50px;">
                                                        <p>+33659874 --> +33659874</p>
                                                    </div>
                                                    <p>Tues, 5th 2024</p>
                                                </div>
                                                <div class="event-row-2">
                                                    <div><p>message sfzedrgzdfzdgzdfzeg</p></div>
                                                    <div>
                                                        <button>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/></svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- Last data collected -->
                            <div class="event">
                                <div class="event-header event-header-border">
                                    <div class="main_title">
                                        <h3>Last data collected</h3>
                                    </div>
                                </div>
                                <div class="event-content">
                                    <div>
                                        <ul>
                                            <li>
                                                <div class="event-row-1">
                                                    <div>
                                                        <img src="../static/icon_sms.png" style="max-width: 50px;">
                                                        <p>+33659874 --> +33659874</p>
                                                    </div>
                                                    <p>Tues, 5th 2024</p>
                                                </div>
                                                <div class="event-row-2">
                                                    <div><p>message sfzedrgzdfzdgzdfzeg</p></div>
                                                    <div>
                                                        <button>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/></svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="event-content">
                                    <div>
                                        <ul>
                                            <li>
                                                <div class="event-row-1">
                                                    <div>
                                                        <img src="../static/icon_sms.png" style="max-width: 50px;">
                                                        <p>+33659874 --> +33659874</p>
                                                    </div>
                                                    <p>Tues, 5th 2024</p>
                                                </div>
                                                <div class="event-row-2">
                                                    <div><p>message sfzedrgzdfzdgzdfzeg</p></div>
                                                    <div>
                                                        <button>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/></svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="event-content">
                                    <div>
                                        <ul>
                                            <li>
                                                <div class="event-row-1">
                                                    <div>
                                                        <img src="../static/icon_sms.png" style="max-width: 50px;">
                                                        <p>+33659874 --> +33659874</p>
                                                    </div>
                                                    <p>Tues, 5th 2024</p>
                                                </div>
                                                <div class="event-row-2">
                                                    <div><p>message sfzedrgzdfzdgzdfzeg</p></div>
                                                    <div>
                                                        <button>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                                <path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/></svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div id="data_viewer" class="modal">
            <div class="modal-content">
                <span id="close" class="close">&times;</span>            
                <span id="result">
    
                </span>
            </div>
        </div>
    </body>
</html>